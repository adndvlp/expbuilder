<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/png+xml" href="/icon/fp black.png" />
    <title>Experiment</title>
    <script src="https://unpkg.com/jspsych@8.2.1"></script>
    <script src="https://unpkg.com/@jspsych/plugin-animation@2.1.0"></script>
    <script src="https://unpkg.com/@jspsych/plugin-audio-button-response@2.1.0"></script>
    <script src="https://unpkg.com/@jspsych/plugin-audio-keyboard-response@2.1.0"></script>
    <script src="https://unpkg.com/@jspsych/plugin-audio-slider-response@2.1.0"></script>
    <script src="https://unpkg.com/@jspsych/plugin-browser-check@2.1.0"></script>
    <script src="https://unpkg.com/@jspsych/plugin-call-function@2.1.0"></script>
    <script src="https://unpkg.com/@jspsych/plugin-canvas-button-response@2.1.0"></script>
    <script src="https://unpkg.com/@jspsych/plugin-canvas-keyboard-response@2.1.0"></script>
    <script src="https://unpkg.com/@jspsych/plugin-canvas-slider-response@2.1.0"></script>
    <script src="https://unpkg.com/@jspsych/plugin-categorize-animation@2.1.0"></script>
    <script src="https://unpkg.com/@jspsych/plugin-categorize-html@2.1.0"></script>
    <script src="https://unpkg.com/@jspsych/plugin-categorize-image@2.1.0"></script>
    <script src="https://unpkg.com/@jspsych/plugin-cloze@2.2.0"></script>
    <script src="https://unpkg.com/@jspsych/plugin-external-html@2.1.0"></script>
    <script src="https://unpkg.com/@jspsych/plugin-free-sort@2.1.0"></script>
    <script src="https://unpkg.com/@jspsych/plugin-fullscreen@2.1.0"></script>
    <script src="https://unpkg.com/@jspsych/plugin-html-audio-response@2.1.0"></script>
    <script src="https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0"></script>
    <script src="https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0"></script>
    <script src="https://unpkg.com/@jspsych/plugin-html-slider-response@2.1.0"></script>
    <script src="https://unpkg.com/@jspsych/plugin-html-video-response@2.1.0"></script>
    <script src="https://unpkg.com/@jspsych/plugin-iat-html@2.1.0"></script>
    <script src="https://unpkg.com/@jspsych/plugin-iat-image@2.1.0"></script>
    <script src="https://unpkg.com/@jspsych/plugin-image-button-response@2.1.0"></script>
    <script src="https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0"></script>
    <script src="/plugins/plugin-custom-image-keyboard-response/index.js"></script>
    <script src="/plugins/plugin-multi-image-keyboard-response/index.js"></script>
    <script src="https://unpkg.com/@jspsych/plugin-image-slider-response@2.1.0"></script>
    <script src="https://unpkg.com/@jspsych/plugin-initialize-camera@2.1.0"></script>
    <script src="https://unpkg.com/@jspsych/plugin-initialize-microphone@2.1.0"></script>
    <script src="https://unpkg.com/@jspsych/plugin-instructions@2.1.0"></script>
    <script src="https://unpkg.com/@jspsych/plugin-maxdiff@2.1.0"></script>
    <script src="https://unpkg.com/@jspsych/plugin-mirror-camera@2.1.0"></script>
    <script src="https://unpkg.com/@jspsych/plugin-preload@2.1.0"></script>
    <script src="https://unpkg.com/@jspsych/plugin-reconstruction@2.1.0"></script>
    <script src="https://unpkg.com/@jspsych/plugin-resize@2.1.0"></script>
    <script src="https://unpkg.com/@jspsych/plugin-same-different-html@2.1.0"></script>
    <script src="https://unpkg.com/@jspsych/plugin-same-different-image@2.1.0"></script>
    <script src="https://unpkg.com/@jspsych/plugin-serial-reaction-time@2.1.0"></script>
    <script src="https://unpkg.com/@jspsych/plugin-serial-reaction-time-mouse@2.1.0"></script>
    <script src="https://unpkg.com/@jspsych/plugin-sketchpad@2.1.0"></script>
    <script src="https://unpkg.com/@jspsych/plugin-survey@2.1.0"></script>
    <script src="https://unpkg.com/@jspsych/plugin-survey-html-form@2.1.0"></script>
    <script src="https://unpkg.com/@jspsych/plugin-survey-likert@2.1.0"></script>
    <script src="https://unpkg.com/@jspsych/plugin-survey-multi-choice@2.1.0"></script>
    <script src="https://unpkg.com/@jspsych/plugin-survey-multi-select@2.1.0"></script>
    <script src="https://unpkg.com/@jspsych/plugin-survey-text@2.1.0"></script>
    <script src="https://unpkg.com/@jspsych/plugin-video-button-response@2.1.0"></script>
    <script src="https://unpkg.com/@jspsych/plugin-video-keyboard-response@2.1.0"></script>
    <script src="https://unpkg.com/@jspsych/plugin-video-slider-response@2.1.0"></script>
    <script src="https://unpkg.com/@jspsych/plugin-virtual-chinrest@3.1.0"></script>
    <script src="https://unpkg.com/@jspsych/plugin-visual-search-circle@2.2.0"></script>
    <script src="https://cdn.jsdelivr.net/gh/jspsych/jspsych@jspsych@7.0.0/examples/js/webgazer/webgazer.js"></script>
    <script src="https://unpkg.com/@jspsych/extension-webgazer@1.2.0"></script>
    <script src="https://unpkg.com/@jspsych/plugin-webgazer-calibrate@2.1.0"></script>
    <script src="https://unpkg.com/@jspsych/plugin-webgazer-init-camera@2.1.0"></script>
    <script src="https://unpkg.com/@jspsych/plugin-webgazer-validate@2.1.0"></script>

    <link
      href="https://unpkg.com/jspsych@7.3.1/css/jspsych.css"
      rel="stylesheet"
      type="text/css"
    />
    <link
      rel="stylesheet"
      href="https://unpkg.com/@jspsych/plugin-survey@2.1.0/css/survey.css"
    />

    <style>
      body {
        margin: 0;
        padding: 0;
        background-color: #f0f0f0;
      }
      #jspsych-target {
        width: 100%;
      }
    </style>
  </head>
  <body>
    <div id="jspsych-target"></div>

    <script id="generated-script">
      const trialSessionId = crypto.randomUUID
        ? crypto.randomUUID()
        : Math.random().toString(36).slice(2) + Date.now();

      const jsPsych = initJsPsych({
        on_data_update: function (data) {
          fetch("/api/append-result", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({
              sessionId: trialSessionId,
              response: data,
            }),
          });
        },

        on_finish: function () {
          jsPsych.data.displayData();
        },
      });

      const timeline = [];

      const welcome = {
        type: jsPsychHtmlButtonResponse,
        stimulus: "Welcome to the experiment. Press 'Start' to begin.",
        choices: ["Start"],
      };

      timeline.push(welcome);

      const preloadNew_Trial = {
        type: jsPsychPreload,
        files: [
          "https://res.cloudinary.com/dksfewgts/image/upload/v1750266938/img/cofre.png",
          "https://res.cloudinary.com/dksfewgts/image/upload/v1750266938/img/armadillo.png",
          "https://res.cloudinary.com/dksfewgts/image/upload/v1750266938/img/blue.png",
          "https://res.cloudinary.com/dksfewgts/image/upload/v1750266937/img/green.png",
          "https://res.cloudinary.com/dksfewgts/image/upload/v1750266937/img/bmw.png",
          "https://res.cloudinary.com/dksfewgts/image/upload/v1750266937/img/orange.png",
          "https://res.cloudinary.com/dksfewgts/image/upload/v1750266937/img/dis.png",
        ],
      };
      timeline.push(preloadNew_Trial);

      const test_stimuli_New_Trial = [
        {
          stimulus:
            "https://res.cloudinary.com/dksfewgts/image/upload/v1750266938/img/cofre.png",
          coordinates: { x: 1, y: 0 },
        },
      ];
      const New_Trial_timeline = {
        type: jsPsychCustomImageKeyboardResponse,
        stimulus: jsPsych.timelineVariable("stimulus"),
        coordinates: jsPsych.timelineVariable("coordinates"),
        data: {
          stimulus: "stimulus",
          response: "response",
          rt: "rt",
          coordinates: "coordinates",
        },
      };

      const New_Trial_procedure = {
        timeline: [New_Trial_timeline],
        timeline_variables: test_stimuli_New_Trial,
        repetitions: 1,
        randomize_order: false,
      };
      timeline.push(New_Trial_procedure);

      const preloadNew_Trial_1 = {
        type: jsPsychPreload,
        files: [
          "https://res.cloudinary.com/dksfewgts/video/upload/v1750267955/aud/audio1.wav",
        ],
      };
      timeline.push(preloadNew_Trial_1);

      const test_stimuli_New_Trial_1 = [
        {
          stimulus:
            "https://res.cloudinary.com/dksfewgts/video/upload/v1750267955/aud/audio1.wav",
        },
      ];
      const New_Trial_1_timeline = {
        type: jsPsychAudioKeyboardResponse,
        stimulus: jsPsych.timelineVariable("stimulus"),
        data: {
          response: "response",
          rt: "rt",
          stimulus: "stimulus",
        },
      };

      const New_Trial_1_procedure = {
        timeline: [New_Trial_1_timeline],
        timeline_variables: test_stimuli_New_Trial_1,
        repetitions: 1,
        randomize_order: false,
      };
      timeline.push(New_Trial_1_procedure);

      const preloadNew_Trial2 = {
        type: jsPsychPreload,
        files: [
          "https://res.cloudinary.com/dksfewgts/video/upload/v1750628967/vid/0518.mov",
          "https://res.cloudinary.com/dksfewgts/video/upload/v1750614002/vid/default.mp4",
          "https://res.cloudinary.com/dksfewgts/video/upload/v1750214052/vid/Y2meta.app-INTERNET%20ODDITIES%2098_%20come%20over%20to%20my%20house%20my%20mum%20made%20the%20favorite%20BREAD%20and%20it%20tastes%20immaculate-%28480p%29.mp4",
        ],
      };
      timeline.push(preloadNew_Trial2);

      const test_stimuli_New_Trial2 = [
        {
          stimulus: [
            "https://res.cloudinary.com/dksfewgts/video/upload/v1750614002/vid/default.mp4",
          ],
        },
      ];
      const New_Trial2_timeline = {
        type: jsPsychVideoKeyboardResponse,
        stimulus: jsPsych.timelineVariable("stimulus"),
        data: {
          response: "response",
          rt: "rt",
          stimulus: "stimulus",
        },
      };

      const New_Trial2_procedure = {
        timeline: [New_Trial2_timeline],
        timeline_variables: test_stimuli_New_Trial2,
        repetitions: 1,
        randomize_order: false,
      };
      timeline.push(New_Trial2_procedure);

      jsPsych.run(timeline);
    </script>
  </body>
</html>
